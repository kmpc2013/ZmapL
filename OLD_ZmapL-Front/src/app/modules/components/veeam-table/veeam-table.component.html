<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!--Bootstrap 5 icons CDN-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />

    <title>CRUD Operations</title>
  </head>
  <body>
    <section class="p-3">
      <!-- Modal -->
      <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">
            Adicionando entrada
          </h4>
          <button
            type="button"
            class="btn-close"
            aria-label="Close"
            (click)="d('Cross click')"
          ></button>
        </div>
        <div class="modal-body">
          <p>Isira as informações necessárias</p>
        </div>
        <app-veeam-form />
      </ng-template>
      <ng-template #contentConfirm let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Removendo entrada</h4>
          <button
            type="button"
            class="btn-close"
            aria-label="Close"
            (click)="d('Cross click')"
          ></button>
        </div>
        <div class="modal-body">
          <p>Deseja realmente remover esta estrada:</p>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary"
            data-bs-dismiss="modal"
            (click)="d('Cross click')"
          >
            Não
          </button>
          <button
            type="submit"
            form="myForm"
            class="btn btn-secondary submit"
            (click)="deleteEntry()"
          >
            Sim
          </button>
        </div>
      </ng-template>

      <button
        class="btn btn-primary newUser"
        data-bs-toggle="modal"
        (click)="openDialogCreate($event)"
      >
        Novo Mapeamento <i class="bi bi-people"></i>
      </button>
      <!-- modal -->
      <div class="row">
        <div class="col-12">
          <table
            class="table table-striped table-hover mt-3 text-center table-bordered"
          >
            <thead>
              <tr>
                <th>id</th>
                <th>VeeamRepoFilesystem</th>
                <th>VeeamAcronym</th>
                <th>LigeroCustomerId</th>
                <th>LigeroEmail</th>
                <th>LigeroService</th>
                <th>ChangedAt</th>
              </tr>
            </thead>
            @for(item of arrayVeeamFiltered; track item;){
            <tbody id="data">
              <tr class="employeeDetails">
                <td>{{ item.id }}</td>
                <td>{{ item.VeeamRepoFilesystem }}</td>
                <td>{{ item.VeeamAcronym }}</td>
                <td>{{ item.LigeroCustomerId }}</td>
                <td>{{ item.LigeroEmail }}</td>
                <td>{{ item.LigeroService }}</td>
                <td>{{ item.changedAt }}</td>
                <td>
                  <button
                    class="btn btn-primary"
                    onclick="editInfo(item.id, '${element.picture}', '${element.employeeName}', '${element.employeeAge}', '${element.employeeCity}', '${element.employeeEmail}', '${element.employeePhone}', '${element.employeePost}', '${element.startDate}')"
                    data-bs-toggle="modal"
                    data-bs-target="#userForm"
                  >
                    <i class="bi bi-pencil-square"></i>
                  </button>
                  <button class="btn btn-danger" (click)="openDelete(contentConfirm, item)">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
            }
          </table>
        </div>
      </div>
    </section>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- <script src="app.js"></script> -->
  </body>
</html>
